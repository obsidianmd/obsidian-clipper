<!DOCTYPE html>
<html lang="en" style="height: 100%; overflow: hidden;">
<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>Obsidian Clipper Settings</title>
		<link rel="stylesheet" href="style.css">
</head>
<body style="height: 100%; overflow: hidden;">
		<div id="settings">
			
			<div class="settings-container">
				<div class="sidebar">
					<ul>
						<li class="sidebar-heading">Settings</li>
						<li data-section="general" class="active">General</li>
						<li class="sidebar-heading">Templates</li>
					</ul>
					<ul id="template-list"></ul>
					<button type="button" id="new-template-btn" class="mod-cta">New template</button>
				</div>
				
				<div class="content">
					<div id="general-section" class="settings-section active">
						<h2>General settings</h2>
						<form id="general-settings-form">
								<div>
									<label for="vault-name">Vaults</label>
									<div class="setting-item-description">By default, clipped notes are saved to the currently open vault. You can add vaults here if you want the option to save to different vaults. Vault names must exactly match the name of the Obsidian vault.</div>
									<input type="text" id="vault-input" placeholder="Press enter to add a vault" />
									<ul id="vault-list"></ul>
								</div>
								<div>
									<label for="vault-name">Reset default template</label>
									<button type="button" id="reset-default-template-btn" class="mod-warning">Reset</button>
								</div>
						</form>
					</div>

					<div id="templates-section" class="settings-section">
						<div class="settings-section-header">
							<h2 id="template-editor-title">Edit template</h2>
							<div class="settings-section-actions">
								<button id="export-template-btn">Export</button>
								<button id="import-template-btn">Import</button>
							</div>
						</div>
						<div id="template-drop-zone" class="template-drop-zone">
							<p>Import template</p>
						</div>
						<form id="template-settings-form" ondragover="event.preventDefault();" ondrop="event.preventDefault();">
							<div id="template-editor">
								<div class="setting-item">
									<label for="template-name">Template name</label>
									<input type="text" id="template-name" placeholder="Template name" />
									</div>
								<div class="setting-item">
									<label for="template-behavior">Behavior</label>
									<select id="template-behavior">
										<option value="create">Create new note</option>
										<option value="append-specific">Add to existing note</option>
										<option value="append-daily">Add to daily note</option>
									</select>
								</div>
								<div class="setting-item" id="note-name-format-container" style="display: none;">
									<label for="note-name-format">Note name</label>
									<div class="setting-item-description">Format for the file name when creating a new note. You can use variables like {{title}}, {{today}}, and {{published}} to pre-populate data from the page. <a href="https://github.com/obsidianmd/obsidian-clipper?tab=readme-ov-file#template-variables" target="_blank">Learn more</a>.</div>
									<input type="text" id="note-name-format" placeholder="{{title}}" />
								</div>
								<div class="setting-item" id="specific-note-container" style="display: none;">
									<label for="specific-note-name">Note to add to</label>
									<div class="setting-item-description">The name of the note to add to.</div>
									<input type="text" id="specific-note-name" placeholder="Note name" />
								</div>
								<div class="setting-item" id="daily-note-format-container" style="display: none;">
									<label for="daily-note-format">Daily note format</label>
									<div class="setting-item-description">Make sure this is the same format as your daily note template in Obsidian settings.</div>
									<input type="text" id="daily-note-format" placeholder="YYYY-MM-DD" value="YYYY-MM-DD" />
								</div>
								<div class="setting-item">
									<label for="template-path-name">Note location</label>
									<div class="setting-item-description">The folder or path of the note.</div>
									<input type="text" id="template-path-name" placeholder="Clippings" />
								</div>
								<div class="setting-item">
									<label for="url-patterns">URL patterns</label>
									<div class="setting-item-description">Optional list of domains that will trigger this template. One per line.</div>
									<textarea id="url-patterns" placeholder="https://example.com/" rows="2"></textarea>
								</div>
								<div id="properties-warning" style="display: none;">
									<label>Properties</label>
									<div class="setting-item-description">Properties are not available when adding to an existing note.</div>
								</div>
								<div id="properties-container">
									<label>Properties</label>
									<div class="setting-item-description">Properties to add to the top of the clipped note. Use variables to pre-populate data from the page.</div>
									<div id="template-properties"></div>
									<div class="metadata-add-button"><a id="add-property-btn">+ Add property</a></div>
								</div>
								<div class="setting-item">
									<label for="note-content-format">Note content</label>
									<div class="setting-item-description">Customize the content of the note. Use variables to pre-populate data from the page.</div>
									<textarea id="note-content-format" rows="6" placeholder="{{content}}"></textarea>
								</div>
							</div>
						</form>
					</div>
				</div>
			</div>
		</div>

		<script type="module" src="settings.js"></script>
</body>
</html>